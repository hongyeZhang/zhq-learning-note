

面试问题(Java 后端)
猿辅导
 1.八皇后问题
 2.求二叉树的最长距离(任意两个节点的路径 中最长的)
 3.lru 算法的实现
 4.设计一个数据结构 满足 put 和 getMedium(中位数)两个方法.
    (时间复杂度分析, getMedium 在常数,n,log n 时间复杂度返回如何实现)
 5.rabbitmq 脑裂问题,rabbitmq 延迟队列实现, rabbitmq高可用策略
    (因为项目中用到了 rabbitmq 和他们技术选型出现了重叠,问了这个问题)
 6. 死磕项目细节其中包括:
    设计方案时有没有比较多种方案,为什么选这个方案?
    你个人最有成就感,最有挑战性的 工作是哪一个?

 思考:
 1. 猿辅导问的算法题属于 leetcode easy, medium 级别的,基本不会太难

旷视(Python)
   1. Python 如何实现多线程/多进程编程
   2. Python GIL 锁是什么?为什么会出现 GIL
   3. python 协程有么有用过? 有哪些常见的协程库,介绍一下
   4. python 装饰器如何实现,原理,常见使用场景?
   5. python 一堆我没听见的库,有没有用过.(我没记下来)
   6. 给你一个 Linux 路径,求其最简化的路径,例如(/a/b/.. -> /a,  a/b/./. -> a/b等)
   7. 给你一台 16 核, 32G 的机器, 无限空间大的分布式存储. 对1 个 16P 大小的文本文件进行排序.
       文件每行一条记录, 空格分割例如
       key1
       key2
   8. 介绍一下什么是外部排序

  思考:
  1. 旷视的这位面试官 和我死磕 python. 一点项目经历没问.
  2. 除了 leetcode 也要多看看高并发,大数据相关的 系统设计题.

去哪儿(Java)
  1. 为什么使用 MQ, MQ 如何选型, 消息可靠性如何保证, 如何保证幂等
  2. 用过 dubbo吗? 设计一个 rpc 框架.
  3. 介绍一下 https
  4. 数据库线程池, http 连接池有没有深入看过源码?介绍一下.(项目里用得到了 http client)
  5. 给你十亿条数据,如何最快的添加到数据库中
  6. 分布式锁的技术选型, 实现原理, 优劣势比较, zookeeper 的一致性协议原理
  7. java 线程同步的几种方式, countdownlatch 和 栅栏的区别
  8. synchronized和 aqs 如何实现可重入锁

陌陌
  1.分布式锁的实现方案比较,为什么选择 zookeeper, zookeeper 一致性协议原理
  2.一致性 Hash 原理,实现,项目中是如何使用一致性 Hash 的,引入了多少虚拟节点?
  3.java synchronized和 AQS的原理,区别
  4. redis 有序列表
  5. redis 高可用架构是什么? codis 和 redis cluster 分片的区别
  6. 两个线程如何交替打印 0到99

头条(Go)
  1. 给你一个 Linux 路径,求其最简化的路径,例如(/a/b/.. -> /a,  a/b/./. -> a/b等) 和旷视问重了
  2. top-k
  3. 实现前缀树
  4. 实现python装饰器.方法实现,和类实现, 带参数和不带参数.以及对装饰器的思考
  5. 如何实现对 多机房,多机架 之前的网络健康情况监控.
  6. 如何理解进程上下文切换, 进程地址空间,为什么需要进程地址空间, 系统调用实现原理, top 命令介绍.

阿里
  1. mq 消息可靠性,幂等如何保证
  2. 分布式锁的实现方案比较,为什么选择 zookeeper, zookeeper 一致性协议原理
  3. 线程池参数,阻塞队列实现.
  4. 一致性 Hash解决什么问题, 如何实现? 虚拟节点的作用?
  5. Java 锁的实现方式, 比较? AQS实现原理?公平非公平实现原理?
  6. CAS 实现原理
  7. volatile 实现原理, 单例模式
  8. java 内存模型, gc 调优的经历. cms gc 的几个阶段, 为什么会出现 stop the world. 常见可优化参数有哪些.
    为什么需要优化 gc, gc 会导致什么问题.
  9. mysql 事务隔离级别. mvcc 实现原理
  10. mysql 索引原理. 为什么使用 B+树. 及何时无法使用索引?
  11. mysql 架构, 引擎层和 server层 各自负责什么.
  12. hashmap 及 concurrenthashmap 实现原理
  13. Spring aop原理，如何定义新的spring xml 标签
  14. 合并两个有序链表
  15. 如何设计一个 大型活动的安保系统(开放题)
  16. 你平常都在哪些论坛上学习?
  17. 如何学习一门未知的技术?

  思考:
  阿里面试官 虽然不面算法,但是面试考察点全方位打击,从浅入深,揪住不放,直到你不会为止.
  是收获最多的面试,也是感受到自己差距的面试.


快手
  1. 线程池实现原理,如何调优
  2. 如何实现一个延迟队列
  3. mysql 索引
  4. mysql 事务隔离级别
  5. java 锁和常见线程同步方式
  6. zookeeper 分布式实现方式及优劣,如何避免 多个客户端同时获取到锁?
  7. 求二叉树两个节点的共同节点
  8. 求二叉树的深度(非递归)
  9. java 集合常见类及原理
  10. tcc 原理
  11. netty 的请求处理流程.线程模型


美团
  1. HashMap 的实现原理?扩容原理? 为什么 jdk 8修改了冲突链表的插入位置
  2. mysql 的高可用架构.主从同步过程.
  3. http 和rpc 调用的区别
  4. redis 如何用单线程支撑高并发, redis 的常见使用场景
  5. mq 如何选型. 为什么用 mq
  6. 一致性 Hash 原理
  7. 美团外卖的支付 ,要求在 15 分钟内取消未支付的订单. 如何实现
  8. 打印 * 星号的等腰三角形
  9. 项目的全链路架构, 有没有单点问题,解决单点问题有哪些常见的方案.
  10. 项目中有哪些可以衡量工作产出的指标.
  11. 说一下你负责的 最复杂,参与人数最多,周期对长.的项目是如何推进的
  12. 你认为自己的优势,劣势在哪里.
  13. 你对未来的职业规划,你期望的工作内容,方向是什么?

腾讯(Java)
   1.如何在物理机和容器中获取 cpu 核数,如何设置线程数, 如何主动触发 GC
   2.一致性 Hash, Hash 的作用, 为什么叫一致性 Hash,一致性体现在哪里.
      HashMap中还可以使用什么方式处理 Hash 冲突
   3.线程池参数,优化,原理
   4.实现一个功能:
     cat /usr/local/*.log|grep tencent
     1. 并发 IO
     2. 30 s 内必须返回结果
   5. 如何理解 Future模式?java 的实现原理
   6. Java 阻塞队列实现原理
   7.  java 锁 volatile 实现原理
   8. mysql 索引原理,事务隔离级别, mysql 死锁的场景会有哪些, 内部如何检测死锁的?
   9. java 线程同步共有哪几种工具?
   10. 你认为 java 设计得比较优秀的地方有哪些?
   11. 如何理解面向对象设计,能用你看过得开源代码或者实际项目介绍一下吗?
   12. java 类加载器的原理及实际使用场景.
   13. java 内存模型, 虚拟机栈默认大小.
   14. 说一下高可用架构的常见解决思路

   思考:
   腾讯一面面试官考察点非常深入,要求你具有归纳能力.例如分布式中常见的负载策略,
   分布式中数据同步备份的常见方案.线程同步的几种方式等等.
   而且在你回答之后能继续深入逼问.
   不像其他面试官抛出来问题,他就听你吹. 你能吹多少,他就认为你会多少.
   
   

因为java面试题是一个较为大的体系，所以我们会拆分为几季来讲解，预计是会推出3季，本次是第一季，
第一季课程包含的内容如下：

1、分布式系统
1.1 为什么要进行系统拆分？
（1）为什么要进行系统拆分？如何进行系统拆分？拆分后不用dubbo可以吗？dubbo和thrift有什么区别呢？
1.2 分布式服务框架
（1）说一下的dubbo的工作原理？注册中心挂了可以继续通信吗？

（2）dubbo支持哪些序列化协议？说一下hessian的数据结构？PB知道吗？为什么PB的效率是最高的？

（3）dubbo负载均衡策略和高可用策略都有哪些？动态代理策略呢？

（4）dubbo的spi思想是什么？

（5）如何基于dubbo进行服务治理、服务降级、失败重试以及超时重试？

（6）分布式服务接口的幂等性如何设计（比如不能重复扣款）？

（7）分布式服务接口请求的顺序性如何保证？

（8）如何自己设计一个类似dubbo的rpc框架？
1.3 分布式锁
（1）使用redis如何设计分布式锁？使用zk来设计分布式锁可以吗？这两种分布式锁的实现方式哪种效率比较高？
1.4 分布式事务
（1）分布式事务了解吗？你们如何解决分布式事务问题的？TCC如果出现网络连不通怎么办？XA的一致性如何保证？
1.5 分布式会话
（1）集群部署时的分布式session如何实现？
2、高并发架构
2.1 如何设计一个高并发系统？
2.2 消息队列
（1）为什么使用消息队列啊？消息队列有什么优点和缺点啊？kafka、activemq、rabbitmq、rocketmq都有什么优点和缺点啊？

（2）如何保证消息队列的高可用啊？

（3）如何保证消息不被重复消费啊（如何进行消息队列的幂等性问题）？

（4）如何保证消息的可靠性传输（如何处理消息丢失的问题）？

（5）如何保证消息的顺序性？

（6）如何解决消息队列的延时以及过期失效问题？消息队列满了以后该怎么处理？有几百万消息持续积压几小时，说说怎么解决？

（7）如果让你写一个消息队列，该如何进行架构设计啊？说一下你的思路
2.3 搜索引擎
（1）es的分布式架构原理能说一下么（es是如何实现分布式的啊）？

（2）es写入数据的工作原理是什么啊？es查询数据的工作原理是什么啊？底层的lucene介绍一下呗？倒排索引了解吗？

（3）es在数据量很大的情况下（数十亿级别）如何提高查询效率啊？

（4）es生产集群的部署架构是什么？每个索引的数据量大概有多少？每个索引大概有多少个分片？
2.4 缓存
（1）在项目中缓存是如何使用的？缓存如果使用不当会造成什么后果？

（2）redis和memcached有什么区别？redis的线程模型是什么？为什么单线程的redis比多线程的memcached效率要高得多？

（3）redis都有哪些数据类型？分别在哪些场景下使用比较合适？

（5）redis的过期策略都有哪些？手写一下LRU代码实现？

（6）如何保证Redis高并发、高可用、持久化？redis的主从复制原理能介绍一下么？redis的哨兵原理能介绍一下么？

（7）redis的持久化有哪几种方式？不同的持久化机制都有什么优缺点？持久化机制具体底层是如何实现的？

（8）redis集群模式的工作原理能说一下么？在集群模式下，redis的key是如何寻址的？分布式寻址都有哪些算法？了解一致性hash算法吗？如何动态增加和删除一个节点？

（9）了解什么是redis的雪崩和穿透？redis崩溃之后会怎么样？系统该如何应对这种情况？如何处理redis的穿透？

（10）如何保证缓存与数据库的双写一致性？

（11）redis的并发竞争问题是什么？如何解决这个问题？了解Redis事务的CAS方案吗？

（12）生产环境中的redis是怎么部署的？
2.5 分库分表

（2）为什么要分库分表（设计高并发系统的时候，数据库层面该如何设计）？用过哪些分库分表中间件？不同的分库分表中间件都有什么优点和缺点？你们具体是如何对数据库如何进行垂直拆分或水平拆分的？

（3）现在有一个未分库分表的系统，未来要分库分表，如何设计才可以让系统从未分库分表动态切换到分库分表上？

（4）如何设计可以动态扩容缩容的分库分表方案？

（5）分库分表之后，id主键如何处理？

2.6 读写分离
（1）如何实现mysql的读写分离？MySQL主从复制原理的是啥？如何解决mysql主从同步的延时问题？
3、高可用架构
3.1 如何设计一个高可用系统？
3.2 限流
（1）如何限流？在工作中是怎么做的？说一下具体的实现？
3.3 熔断
（1）如何进行熔断？熔断框架都有哪些？具体实现原理知道吗？
3.4 降级
（1）如何进行降级？
