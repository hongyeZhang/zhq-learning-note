
## 1 海量数据中寻找TOP IP（即寻找访问量最高的IP）
* 散列分治
* 1 将所有访问网站的IP提取出来，通过hash分散到1000个小文件中
* 2 针对1000个小文件，分别统计出现频率最高的IP（内存中）
* 3 统计出 TOP 1000 IP时，再通过排序算法（快速排序、堆排序）获得最高访问频率IP（内存中）

* 小窍门
    - 1 在内存中可以统计排序的功能 可以通过 hashmap + 堆排序 来解决。



## 2 寻找热门查询
* 从1000W条可能重复的数据中（其中不重复的数据也就300条），找出 TOP 10 的热词，要求占用内存不超过 1G。
    - 将300W条数据 存入内存中的hashmap中（约675M），统计每个热词的出现次数。
    - 建立一个大小为 10 的 小顶堆，依次将300W 数据放入堆，如果大于堆顶元素，则更新，最后所剩的10个元素即为 TOP10 热词。


## 3 外排序
* 处理的数据量很大，不能一次放到内存中，此时怎样进行排序？
    - “排序-归并”策略
    - 1 将一个大文件分割为多个能够一次性放入内存的小文件（比如1000个），针对每个小文件在内存中排序，然后输出有序的数据到另一个小文件中。
    - 2 将所有的有序小文件进行多路归并
* 外排序问题的一般思路
    - 位图
    - 多路归并

## 4 位图
* 根据数据的特殊性，知道数据的最大值，但是对于稀疏数据的表现不好，会比普通方法浪费更多的内存
* 一般用于大数的统计与去重
    - 优点： 节省内存；运算效率高
* Java 结构：BitSet  
* 2^32 = 42亿
* 应用场景举例
    - 电话号码的统计
    
## 5 布隆过滤器
* 长度为N的位数组，通过k个散列函数将一个数据映射成k的位并置1,
* 可以确定元素一定不存在，但是不能确定元素一定存在，有一定的误判率
* 注意因素
    - 误判率估计
    - 总位数的选取
    - hash 个数 k 的选取
* 应用场景举例
    - A B 两个文件寻找相同的URL 
        - 如果允许有一定的误判率，布隆过滤器
        - 如果不允许误判，则 散列分治 + hash
    - 垃圾邮件过滤
        - 布隆过滤器
        - 贝叶斯分类

## Tire树
* 应用场景
    - 1W个单词中统计10个频繁出现的单词（重点侧重单词的场景）
        - 通过Tire树统计每个单词出现的次数，然后通过堆排序，得出频率前10的单词
        - 

## 倒排索引
* 设计一个文档检索系统
    - 倒排索引 + 搜索引擎

## simhash
* 通过一系列算法产生一个 simhash 信息指纹
* 应用场景
    - 亿万级网页的去重问题
    






